{% extends 'ecom/admin_base.html' %}
{% load widget_tweaks %}

{% block content %}
<div class="container-fluid py-5" style="background-color: #f8f9fa;">
  <div class="row justify-content-center">
    <div class="col-lg-8">
      <div class="card shadow">
        <div class="card-header bg-dark text-white py-3">
          <h4 class="mb-0 text-center">Update Product Details</h4>
        </div>
        <div class="card-body p-4">
          <form method="post" enctype="multipart/form-data">
            {% csrf_token %}
            <div class="row g-4">
              <div class="col-md-6">
                <div class="form-group">
                  <label for="name" class="form-label">Product Name</label>
                  {% render_field productForm.name class="form-control" placeholder="Enter product name" id="name" %}
                </div>
              </div>
              <div class="col-md-6">
                <div class="form-group">
                  <label for="price" class="form-label">Product Price (Rs.)</label>
                  {% render_field productForm.price class="form-control" placeholder="Enter price" id="price" %}
                </div>
              </div>
              <div class="col-md-6">
                <div class="form-group">
                  <label for="quantity" class="form-label">Quantity</label>
                  {% render_field productForm.quantity class="form-control" placeholder="Enter quantity" id="quantity" %}
                </div>
              </div>
              <div class="col-md-6">
                <div class="form-group">
                  <label for="unit" class="form-label">Unit</label>
                  {% render_field productForm.unit class="form-control" placeholder="Enter unit" id="unit" %}
                </div>
              </div>
              <div class="col-12">
                <div class="form-group">
                  <label for="description" class="form-label">Product Description</label>
                  {% render_field productForm.description class="form-control" placeholder="Enter product description" id="description" rows="3" %}
                </div>
              </div>
              <div class="col-md-6">
                <div class="form-group">
                  <label for="expiry_date" class="form-label">Expiry Date</label>
                  {% render_field productForm.expiry_date class="form-control" type="date" id="expiry_date" %}
                </div>
              </div>
              <div class="col-md-6">
                <div class="form-group">
                  <label for="product_image" class="form-label">Product Image</label>
                  {% render_field productForm.product_image class="form-control" id="product_image" %}
                </div>
              </div>

              <!-- Image display block commented out -->
                <!--
              {% if productForm.instance.product_image %}
              <div class="col-12">
                <div class="card bg-light">
                  <div class="card-body">
                    <h6 class="card-subtitle mb-2 text-muted">Current Product Image</h6>
                    <img src="{{ productForm.instance.product_image.url }}" alt="Current Image" class="img-fluid rounded" style="max-height: 200px; width: auto;" />
                  </div>
                </div>
              </div>
              {% endif %}
              -->
            </div>
            <div class="d-grid gap-2 mt-4">
              <button type="submit" class="btn btn-primary btn-md">Edit</button>
              
              <!-- Cancel button added here and aligned with Update button -->
              <a href="{% url 'admin-products' %}" class="btn btn-outline-secondary btn-md ml-2" title="Cancel">
                Cancel
              </a>
            </div>
            
          </form>
        </div>
      </div>
    </div>
  </div>
</div>

<style>
  .form-control:focus {
    box-shadow: 0 0 0 0.25rem rgba(13, 110, 253, 0.25);
    border-color: #2c3e50;
  }
  .card {
    border: none;
    border-radius: 15px;
  }
  .card-header {
    border-top-left-radius: 15px;
    border-top-right-radius: 15px;
  }
  .btn-primary {
    background-color: #2c3e50;
  }
  .btn-primary:hover {
    background-color:rgb(90, 104, 118);
  }
</style>
{% endblock content %}
