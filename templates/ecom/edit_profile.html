{% extends 'ecom/customer_base.html' %}
{% load widget_tweaks %}
{% block content %}

<div class="container my-5">
  <div class="row justify-content-center">
    <div class="col-lg-10">
      <div class="card shadow-lg">
        <div class="card-header bg-dark text-white py-4">
          <h2 class="card-title mb-0 text-center">
            <i class="fas fa-user-edit me-2"></i>Edit Profile
          </h2>
        </div>
        <div class="card-body bg-light">
          <form method="post" enctype="multipart/form-data">
            {% csrf_token %}
            <div class="row g-4">
              <div class="col-md-6">
                <div class="form-group mb-3">
                  <label for="{{ userForm.first_name.id_for_label }}" class="form-label text-dark">First Name</label>
                  {% render_field userForm.first_name class="form-control bg-white" placeholder="Enter your first name" %}
                </div>
                <div class="form-group mb-3">
                  <label for="{{ userForm.username.id_for_label }}" class="form-label text-dark">Username</label>
                  {% render_field userForm.username class="form-control bg-white" placeholder="Enter your username" %}
                </div>
                <div class="form-group mb-3">
                  <label for="{{ customerForm.mobile.id_for_label }}" class="form-label text-dark">Mobile</label>
                  {% render_field customerForm.mobile class="form-control bg-white" placeholder="Enter your mobile number" %}
                </div>
              </div>
              <div class="col-md-6">
                <div class="form-group mb-3">
                  <label for="{{ userForm.last_name.id_for_label }}" class="form-label text-dark">Last Name</label>
                  {% render_field userForm.last_name class="form-control bg-white" placeholder="Enter your last name" %}
                </div>
                <div class="form-group mb-3">
                  <label for="{{ customerForm.address.id_for_label }}" class="form-label text-dark">Address</label>
                  {% render_field customerForm.address class="form-control bg-white" placeholder="Enter your address" %}
                </div>
                <div class="form-group mb-3">
                  <label for="{{ customerForm.profile_pic.id_for_label }}" class="form-label text-dark">Profile Picture</label>
                  {% render_field customerForm.profile_pic class="form-control bg-white" %}
                </div>
              </div>
            </div>
            <div class="text-center mt-4">
              <div class="mb-3">
                {% if customerForm.instance.profile_pic %}
                  <div class="profile-picture-container rounded-circle overflow-hidden mx-auto" style="width: 150px; height: 150px; border: 3px solid #343a40;">
                    <img src="{{ customerForm.instance.profile_pic.url }}" class="profile-picture img-fluid w-100 h-100" alt="Current Profile Picture">
                  </div>
                {% else %}
                  <div class="alert alert-dark">No profile picture uploaded</div>
                {% endif %}
              </div>
              <button type="submit" class="btn btn-dark btn-lg px-5 py-2 rounded-pill">
                <i class="fas fa-save me-2"></i>Update Profile
              </button>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>
</div>

<style>
  .object-fit-cover {
    object-fit: cover;
  }
  .object-position-center {
    object-position: center;
  }
  .profile-picture-container {
    position: relative;
  }
  .profile-picture {
    object-fit: cover;
    object-position: center 30%;
  }
</style>

{% endblock content %}

